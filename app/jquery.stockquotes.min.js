!function(t){"use strict";function e(t,e){t in p||(p[t]=[]),p[t].push(e),o&&clearTimeout(o),o=setTimeout(n,h)}function s(e){return t.ajax({url:a,data:{symbol:e},dataType:"jsonp",method:"GET"}).then(function(t){return t})}function n(){var e,n=[];for(e in p)n.push(s(e));t.when.apply(t,n).done(function(){var t,e,s,n=Array.prototype.slice.call(arguments);for(e=0;e<n.length;e++)for(t in p)if(n[e].Symbol===t)for(s=0;s<p[t].length;s++)p[t][s].updateQuote(n[e])}).fail(function(t){console.log("err",t)})}function i(s,n,i){this.options=t.extend({},l,i),this.$element=t(s),this.options.includeSymbol&&this.$element.append(n),this.$element.append(" "),this.$change=t("<span />").addClass(this.options.changeClass),this.$quote=t("<span />").addClass(this.options.quoteClass),this.$element.append(this.$change),this.$element.append(this.$quote),e(n,this)}var o,a="http://dev.markitondemand.com/Api/v2/Quote/jsonp",h=200,l={positiveClass:"up",negativeClass:"down",changeClass:"change",quoteClass:"quote",precision:2,includeSymbol:!0},p={};i.prototype.updateQuote=function(t){this.$element.removeClass(this.options.positiveClass).removeClass(this.options.negativeClass),t.Change>0?this.$element.addClass(this.options.positiveClass):t.Change<0&&this.$element.addClass(this.options.negativeClass),this.$quote.html(Math.abs(t.Change).toFixed(this.options.precision))},t.fn.stockQuote=function(e){return e=t.isPlainObject(e)?e:{},this.each(function(){var s=t(this).attr("data-symbol");s&&(s=s.toUpperCase().trim(),t(this).data("stockquote",new i(this,s,e)))})}}(jQuery);